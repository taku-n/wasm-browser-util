<!DOCTYPE html>

<html>

<head>
<meta charset="UTF-8">
</head>

<body>
<script type="module">
import init, {
  js_test_wasm_browser_util as test_wasm_browser_util,
  js_sleep as sleep,
  js_panic as panic,
} from './pkg/wasm_browser_util.js';

async function main() {
  await init();

  await test_wasm_browser_util();

  console.log('Sleep.');
  await sleep(3);
  console.log('Awake!');

  // Uncaught (in promise) RuntimeError: unreachable executed, js_panic, main
  // No message appears...
  //await panic('I panic.');  // Obsolete.
  //
  // Now I removed the argument.
  //await panic();
}

await main();
</script>
</body>

</html>
